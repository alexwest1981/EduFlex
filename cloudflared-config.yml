tunnel: eduflex
credentials-file: C:\Users\alxpa\.cloudflared\b6f238db-50d5-4c9b-a59d-89fffa203a5c.json

originRequest:
  connectTimeout: 30s
  noTLSVerify: true

ingress:
  # MinIO Storage
  - hostname: storage.eduflexlms.se
    service: http://127.0.0.1:9000
    originRequest:
      noTLSVerify: true

  # OnlyOffice Routing
  - hostname: www.eduflexlms.se
    path: /web-apps/*
    service: http://127.0.0.1:8081
  - hostname: eduflexlms.se
    path: /web-apps/*
    service: http://127.0.0.1:8081
    
  - hostname: www.eduflexlms.se
    path: /8.2.3-7393dfd186fe4321e36c355d97e7bbb4/*
    service: http://127.0.0.1:8081
  - hostname: eduflexlms.se
    path: /8.2.3-7393dfd186fe4321e36c355d97e7bbb4/*
    service: http://127.0.0.1:8081

  - hostname: www.eduflexlms.se
    path: /cache/*
    service: http://127.0.0.1:8081
  - hostname: eduflexlms.se
    path: /cache/*
    service: http://127.0.0.1:8081

  # Frontend Assets (Explicit)
  - hostname: www.eduflexlms.se
    path: /src/*
    service: http://127.0.0.1:5173
  - hostname: eduflexlms.se
    path: /src/*
    service: http://127.0.0.1:5173
  - hostname: www.eduflexlms.se
    path: /assets/*
    service: http://127.0.0.1:5173
  - hostname: eduflexlms.se
    path: /assets/*
    service: http://127.0.0.1:5173

  # API & Auth Routing (Direct to Backend)
  - hostname: www.eduflexlms.se
    path: /uploads/*
    service: http://127.0.0.1:8080
  - hostname: eduflexlms.se
    path: /uploads/*
    service: http://127.0.0.1:8080

  - hostname: www.eduflexlms.se
    path: /api/*
    service: http://127.0.0.1:8080
  - hostname: eduflexlms.se
    path: /api/*
    service: http://127.0.0.1:8080

  - hostname: www.eduflexlms.se
    path: /oauth2/*
    service: http://127.0.0.1:8080
  - hostname: eduflexlms.se
    path: /oauth2/*
    service: http://127.0.0.1:8080

  # Main App & Frontend Assets
  - hostname: www.eduflexlms.se
    service: http://127.0.0.1:5173
  - hostname: eduflexlms.se
    service: http://127.0.0.1:5173
  - service: http_status:404
